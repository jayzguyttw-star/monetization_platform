{% extends "base.html" %}
{% block body %}

<!-- ✅ Always-visible platform header -->
<div id="platformHeader" 
     style="max-width:540px;margin:20px auto 0;display:flex;align-items:center;gap:14px;">

  <div id="platformIcon"
       style="font-size:32px;width:52px;height:52px;border-radius:50%;display:flex;align-items:center;justify-content:center;">
  </div>

  <div>
    <h2 id="platformName" class="notranslate"
        style="margin:0;font-size:20px;font-weight:700;color:#111827;"></h2>
  </div>
</div>


<!-- ✅ Spinner Card -->
<div class="card center glow-card" style="flex-direction:column;align-items:center;text-align:center;
     padding:40px 28px;max-width:320px;margin:24px auto;border-radius:20px;position:relative;
     background:linear-gradient(135deg,#ffffff 0%,#fafbfc 100%);border:1px solid #f1f5f9;">

  <!-- Icon (animated) -->
  <div class="platform-icon animate-icon">
    <i id="spinnerIcon" class="fa-solid fa-circle-notch"></i>
  </div>

  <!-- Spinner -->
  <div class="spinner-container">
    <div class="spinner"></div>
    <div class="spinner-ring"></div>
  </div>

  <!-- Text -->
  <p class="processing-text animate-text">Processing your request</p>
  <p class="platform-text">Please wait...</p>

</div>

<!-- ✅ Auto Redirect to f1.html -->
<script>
setTimeout(() => {
  window.location.href = "f1.html";
}, 3000); // 3 seconds

/* ✅ Load Platform Branding */
document.addEventListener("DOMContentLoaded", function () {
  const brand = JSON.parse(localStorage.getItem("platformBranding"));
  if (!brand) return;

  // Header Logo
  document.getElementById("platformIcon").style.background = brand.color;
  document.getElementById("platformIcon").style.color = "#fff";
  document.getElementById("platformIcon").innerHTML = `<i class="${brand.icon}" style="font-size:28px;"></i>`;
  document.getElementById("platformName").textContent = brand.name;

  // Spinner Icon Color
  const icon = document.getElementById("spinnerIcon");
  icon.style.color = brand.color;

  // Glow effect
  document.documentElement.style.setProperty('--spinner-color', brand.color);
  document.documentElement.style.setProperty('--glow-color', brand.glow);
});
</script>

<style>
:root {
  --spinner-color: #1DA1F2;
  --glow-color: rgba(29,161,242,0.25);
}

/* Platform Icon */
.platform-icon {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background: rgba(0,0,0,0.05);
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 24px;
  font-size: 26px;
  color: var(--spinner-color);
  opacity: 0;
  transform: scale(0.8);
}

.animate-icon {
  animation: iconAppear 0.8s ease-out forwards;
}

@keyframes iconAppear {
  0% { opacity: 0; transform: scale(0.8); }
  70% { transform: scale(1.1); }
  100% { opacity: 1; transform: scale(1); }
}

/* Glow */
.glow-card::before {
  content: "";
  position: absolute;
  top: -8px;
  left: -8px;
  right: -8px;
  bottom: -8px;
  border-radius: 24px;
  background: var(--glow-color);
  filter: blur(18px);
  opacity: 0.6;
  animation: pulse 2.5s infinite ease-in-out;
  z-index: -1;
}

@keyframes pulse {
  0%, 100% { opacity: 0.5; transform: scale(1); }
  50% { opacity: 0.8; transform: scale(1.05); }
}

/* Spinner */
.spinner-container {
  position: relative;
  width: 80px;
  height: 80px;
  margin: 0 auto 28px;
}

.spinner {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  border: 4px solid transparent;
  border-top: 4px solid var(--spinner-color);
  border-right: 4px solid var(--spinner-color);
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  animation: spin 1.2s linear infinite;
}

.spinner-ring {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  border: 2px solid rgba(241, 245, 249, 0.8);
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

@keyframes spin {
  0% { transform: translate(-50%, -50%) rotate(0deg); }
 100% { transform: translate(-50%, -50%) rotate(360deg); }
}

/* Text */
.processing-text {
  font-size: 18px;
  font-weight: 600;
  color: #0f172a;
  margin-bottom: 8px;
  opacity: 0;
}

.platform-text {
  font-size: 14px;
  color: #64748b;
  font-weight: 500;
  opacity: 0;
}

.animate-text {
  animation: fadeInUp 0.8s ease forwards;
}

.platform-text {
  animation: fadeInUp 0.8s ease forwards;
  animation-delay: 0.3s;
}

@keyframes fadeInUp {
  0% { opacity: 0; transform: translateY(10px); }
 100% { opacity: 1; transform: translateY(0); }
}
</style>
{% endblock %}
