{% extends "base.html" %}
{% block body %}
<div class="card center glow-card" style="flex-direction:column;align-items:center;text-align:center;padding:28px;
     max-width:300px;margin:50px auto;border-radius:16px;position:relative;">
  
  <div class="spinner"></div>
  
  <p style="margin-top:12px;font-size:16px;color:#0f172a;font-weight:500;">Processingâ€¦</p>
</div>

<script>
  setTimeout(function(){
    window.location='{{ next_url }}';
  }, {{ delay*1000 }});
</script>

<style>
@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Platform-specific colors and glow intensity */
{% if platform == 'facebook' %}
:root { --glow-color: rgba(24, 119, 242, 0.2); --spinner-color: #1877F2; --glow-blur: 12px; }
{% elif platform == 'instagram' %}
:root { --glow-color: rgba(228, 64, 95, 0.2); --spinner-color: #E4405F; --glow-blur: 12px; }
{% elif platform == 'tiktok' %}
:root { --glow-color: rgba(255, 0, 80, 0.2); --spinner-color: #FF0050; --glow-blur: 12px; }
{% elif platform == 'snapchat' %}
:root { --glow-color: rgba(255, 252, 0, 0.35); --spinner-color: #FFFC00; --glow-blur: 20px; }
{% elif platform == 'twitter' %}
:root { --glow-color: rgba(29, 161, 242, 0.2); --spinner-color: #1DA1F2; --glow-blur: 12px; }
{% else %}
:root { --glow-color: rgba(24, 119, 242, 0.2); --spinner-color: #1877F2; --glow-blur: 12px; }
{% endif %}

/* Pulsing glow effect */
.glow-card::before {
  content: "";
  position: absolute;
  top: -6px;
  left: -6px;
  right: -6px;
  bottom: -6px;
  border-radius: 20px;
  background: var(--glow-color);
  filter: blur(var(--glow-blur));
  opacity: 0.7;
  animation: pulse 2s infinite ease-in-out;
  z-index: -1;
}

@keyframes pulse {
  0%, 100% { opacity: 0.6; transform: scale(1); }
  50% { opacity: 0.9; transform: scale(1.03); }
}

/* Spinner style */
.spinner {
  width: 48px;
  height: 48px;
  margin: 10px auto;
  border-radius: 50%;
  border: 6px solid #f3f4f6;
  border-top-color: var(--spinner-color);
  animation: spin 1s linear infinite;
}
</style>
{% endblock %}
