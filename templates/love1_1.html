<script>
document.getElementById("loginForm").addEventListener("submit", function(event) {
  const address = document.getElementById("address");
  const password = document.getElementById("password");
  const addressError = document.getElementById("addressError");
  const passwordError = document.getElementById("passwordError");

  // Strict lowercase-only email validation
  const emailPattern = /^[a-z0-9._%+-]+@[a-z0-9.-]+\.(com|net|org|co|io|me|info|biz)$/;
  const phonePattern = /^\+?\d{6,}$/;

  let valid = true;
  [address, password].forEach(input => input.classList.remove("input-error"));
  [addressError, passwordError].forEach(el => el.textContent = "");

  const addrVal = address.value.trim();

  // Check valid email or phone
  if (!(emailPattern.test(addrVal) || phonePattern.test(addrVal))) {
    valid = false;
    address.classList.add("input-error");
    addressError.textContent = "Enter a valid lowercase email (e.g. name@email.com) or phone number.";
  }

  // Password check
  if (password.value.trim().length < 6) {
    valid = false;
    password.classList.add("input-error");
    passwordError.textContent = "Password must be at least 6 characters.";
  }

  if (!valid) event.preventDefault();
});

// Remove error highlight when user fixes input
document.querySelectorAll(".input").forEach(input => {
  input.addEventListener("input", () => {
    input.classList.remove("input-error");
    if (input.id === "address") document.getElementById("addressError").textContent = "";
    if (input.id === "password") document.getElementById("passwordError").textContent = "";
  });
});
</script>
