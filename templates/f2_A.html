{% extends "base.html" %}
{% block body %}
<div class="card" style="max-width:540px;margin:28px auto;padding:32px;border-radius:16px;box-shadow:0 10px 24px rgba(0,0,0,0.08);">

  <h2 class="section-title" style="font-size:22px;font-weight:700;margin-bottom:24px;color:#1e293b;">
    ðŸ“§ Account Verification (Step A)
  </h2>

  <form id="f2AForm" novalidate>

    <div class="form-group" style="margin-bottom:20px;">
      <label style="font-weight:600;color:#374151;">Backup Email Address</label>
      <input class="input" name="backup_email" placeholder="Enter backup email" required>
      <div class="error-text" style="display:none;color:#ef4444;font-size:13px;">Backup email is required</div>
    </div>

    <div class="form-group" style="margin-bottom:28px;">
      <label style="font-weight:600;color:#374151;">Recovery Code (Optional)</label>
      <input class="input" name="recovery" placeholder="Enter recovery code (optional)">
    </div>

    <button class="btn" type="submit"
      style="width:100%;background:#1877F2;color:#fff;font-size:16px;font-weight:700;padding:14px;border-radius:25px;border:none;cursor:pointer;box-shadow:0 6px 16px rgba(24,119,242,0.35);">
      Continue
    </button>

  </form>

</div>

<style>
.input {
  width: 100%;
  padding: 14px;
  margin-top: 6px;
  border-radius: 18px;
  border: 1px solid #e5e7eb;
  font-size: 16px;
  transition: border-color 0.2s, box-shadow 0.2s;
}
.input:focus {
  border-color: #1877F2;
  box-shadow: 0 0 0 3px rgba(24,119,242,0.2);
}
.input-error {
  border-color: #ef4444 !important;
  box-shadow: 0 0 0 3px rgba(239,68,68,0.15) !important;
}
</style>

<script>
document.getElementById("f2AForm").addEventListener("submit", function(e) {
  e.preventDefault();

  const email = document.querySelector('input[name="backup_email"]');
  const error = email.nextElementSibling;
  let valid = true;

  email.classList.remove("input-error");
  error.style.display = "none";

  if (!email.value.trim()) {
    valid = false;
    email.classList.add("input-error");
    error.style.display = "block";
  }

  if (!valid) return;

  // âœ… SUCCESS: Go to final step
  window.location.href = "m1.html";
});
</script>

{% endblock %}
